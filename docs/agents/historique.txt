JDR COFFEE - HISTORIQUE DES DÉCISIONS D'AGENTS
===============================================

Date: 2025-12-06

## Contexte initial

Projet: JDR Coffee
- Application mobile-first RPG assistant pour Game Masters
- Tech stack: Next.js 16, React 19, TypeScript, Tailwind CSS, shadcn/ui
- Contraintes: Mobile-first (360px), pixel art médiéval, French-first
- Monorepo existant: /Users/tomo/Dev/jdr-coffee/
- Nouveau projet: /Users/tomo/Dev/jdr/ (fresh start)

## Phase 1: Analyse et simplification (2025-12-06)

### Plan original exhaustif
- Créé: agent-plan.md
- Contenu: 12 agents + 6 skills + 3 hooks + 8 slash commands
- Approche: Très complète mais potentiellement sur-ingénierie

### Décision: Simplification pragmatique
- Vision utilisateur: Réduire à l'essentiel pour démarrer
- Objectif: 8 agents stratégiques au lieu de 12+

### Agents retenus (8 agents finaux)

1. **jdr-feature-planner** (NOUVEAU dans vision utilisateur)
   - Rôle: Planification business/specs non-tech
   - Priorité: Critique
   - Note: Séparation claire entre specs business et implémentation tech

2. **jdr-monorepo-researcher** (MODIFIÉ)
   - Original: jdr-migration-specialist (faisait la migration)
   - Nouveau rôle: Recherche et documentation UNIQUEMENT
   - Changement clé: Ne fait PAS la migration, juste la recherche
   - Priorité: Critique

3. **jdr-quality-gate** (FUSIONNÉ)
   - Fusion de: jdr-code-reviewer + jdr-build-checker
   - Rôle: Code review + build validation en un seul agent
   - Priorité: Critique

4. **jdr-ux-challenger** (NOUVEAU + FUSIONNÉ)
   - Original: jdr-mobile-validator + jdr-pixel-ui-specialist
   - Nouveau rôle: Challenge la cohérence UX globalement
   - Focus: Mobile-first, pixel art, accessibilité
   - Priorité: Critique

5. **jdr-historical-expert** (NOUVEAU)
   - Rôle: Expert authenticité médiévale
   - Innovation: Construit un corpus documenté au fur et à mesure
   - Utilise: WebSearch/WebFetch pour sources fiables
   - Priorité: Important (pas critique mais très utile)

6. **jdr-frontend-expert** (NOUVEAU - suggéré par utilisateur)
   - Rôle: Expert implémentation React/Next.js
   - Expertise: Server Components, App Router, performance
   - Priorité: Critique
   - Note: Manquait dans le plan original

7. **jdr-backend-expert** (NOUVEAU - suggéré par utilisateur)
   - Rôle: Expert API/Server Actions/Gemini
   - Expertise: Next.js API Routes, Zod validation, sécurité
   - Priorité: Critique
   - Note: Manquait dans le plan original

8. **jdr-game-design-validator** (ÉLARGI)
   - Original: jdr-game-economy-expert (focus économie)
   - Nouveau rôle: Validation complète game design + économie
   - Inclut: Mécaniques de jeu, pricing, balance
   - Priorité: Critique

### Agents du plan original NON retenus (pour MVP)

- jdr-migration-specialist → remplacé par jdr-monorepo-researcher (recherche only)
- jdr-build-checker → fusionné dans jdr-quality-gate
- jdr-mobile-validator → fusionné dans jdr-ux-challenger
- jdr-data-modeler → responsabilité partagée (feature-planner + game-design-validator)
- jdr-pixel-ui-specialist → fusionné dans jdr-ux-challenger
- jdr-formula-tester → fusionné dans jdr-game-design-validator
- jdr-component-tester → pas critique pour MVP
- jdr-french-validator → pas critique (dev natif français)
- jdr-npc-generator-expert → feature spécifique, phase ultérieure

## Phase 2: Ordre de création

### Phase 0: Setup (Semaine 1)
1. jdr-monorepo-researcher (PREMIER - identifier ce qui existe)
2. jdr-quality-gate (garantir qualité dès le début)
3. jdr-feature-planner (planifier features métier)

### Phase 1: Core Features & Data (Semaine 2-3)
4. jdr-historical-expert (corpus historique)
5. jdr-backend-expert (logique serveur)
6. jdr-game-design-validator (pricing engine)

### Phase 2: Frontend & UI (Semaine 3-4)
7. jdr-frontend-expert (composants UI)
8. jdr-ux-challenger (validation mobile-first)

## Décisions architecturales clés

### Séparation des responsabilités
- **Planning**: feature-planner (business)
- **Research**: monorepo-researcher, historical-expert
- **Quality**: quality-gate, ux-challenger
- **Implementation**: frontend-expert, backend-expert
- **Validation**: game-design-validator

### Modèles utilisés
- **sonnet**: Pour agents complexes (7 agents)
- **haiku**: Pas utilisé dans cette version simplifiée

### Approche générale
- MVP-focused: Pas de sur-ingénierie
- Évolutif: Possibilité d'ajouter des agents plus tard
- Pragmatique: Chaque agent a un rôle clair et unique
- Complémentaire: Les agents travaillent ensemble dans des workflows

## Prochaines étapes

### Documentation créée (2025-12-06)
- docs/agents-preparation.md - Résumé des 8 agents
- docs/agent-plan-original.md - Plan original complet (référence)
- docs/historique.txt - Ce fichier

### À faire ensuite
1. Créer dossier .claude/agents/
2. Conceptualiser chaque agent un par un
3. Écrire les prompts détaillés
4. Tester et ajuster

## Notes et réflexions

- L'ajout des agents frontend-expert et backend-expert était crucial
- L'agent historical-expert est une innovation intéressante (corpus documenté)
- Le rôle de monorepo-researcher (recherche only) est plus clair que migration-specialist
- La fusion quality-gate évite la redondance
- La simplification de 12+ à 8 agents rend le système plus gérable

---
FIN DE L'HISTORIQUE
